<!Doctype html>
<html>
	<head>
	</head>
	<body>
		<p>This is an example of javascript promise. 
            <br/>Good doc: 
            https://dev.to/viniciuskneves/yet-another-post-about-asyncawait-and-promises-49gg
        </p>
        
		<script>
			
            
			let promiseToCleanTheRoom = new Promise(function(resolve,reject){
				let isClean = true;
				if(isClean){
					resolve({msg:'Clean'})
				} else {
					reject({msg:'Not clean'})
				}
			});
			
			promiseToCleanTheRoom.then(resolve).catch(reject)		
			
			function resolve(msg){
				console.log(msg)
			}
			
			function reject(msg){
				console.log(msg)
			}
			

            var promise = new Promise(function(resolve, reject) { 
                const x = "geeksforgeeks"; 
                const y = "geeksforgeeks"
                if(x === y) { 
                    resolve(); 
                } else { 
                    reject(); 
                } 
            }); 
            
            promise. 
                then(function () { 
                    console.log('Success, You are a GEEK'); 
                }). 
                catch(function () { 
                    console.log('Some error has occured'); 
                }); 
			//console.log(promise)


            const promise1 = new Promise(resolve => {
                setTimeout(() => {
                    resolve('Hello from a Promise!');
                }, 2000);
            });

            promise1.then(value => console.log(value));
            //console.log(promise1)


            /*SIMPLE */
          function myFunction1():any{
    return new Promise((resovle:any):void => {   
        setTimeout(()=>{
            console.log("function 1");
            resovle();
            },2000
        );
        }
    )

}


function myFunction2(){
    setTimeout(()=>{
        console.log("function 2");
        },1000
    )
}

//Method 1: Traditional way to call promise
myFunction1().then(myFunction2);


//Method 2: Using async/await to combine method in order
(async () => {
    await myFunction1()
    myFunction2();   
})();

//Method 3: If you know you have to wait for function1 to finish to can call it 
// using await in your function
async function myFunction3(){
    await myFunction1();
    console.log("function 3");
}

myFunction3();

            
		</script>
	</body>
</html>
